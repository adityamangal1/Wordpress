!function(n){jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["ast-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl()},initAstBgControl:function(){var o=this,e=o.setting._value,t=o.container.find(".ast-color-control");o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide(),!_.isUndefined(e["background-image"])&&""!==e["background-image"]||o.container.find(".more-settings").hide(),t.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){o.saveValue("background-color",t.val())},100)},clear:function(e){jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&o.saveValue("background-color","")}}),o.container.on("change",".background-repeat select",function(){o.saveValue("background-repeat",jQuery(this).val())}),o.container.on("change click",".background-size input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),o.saveValue("background-size",jQuery(this).val())}),o.container.on("change",".background-position select",function(){o.saveValue("background-position",jQuery(this).val())}),o.container.on("change click",".background-attachment input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),o.saveValue("background-attachment",jQuery(this).val())}),o.container.on("click",".background-image-upload-button, .thumbnail-image img",function(e){var r=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=r.state().get("selection").first(),i=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(i=a.toJSON().sizes.thumbnail.url):i=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&o.container.find(".more-settings").show(),o.saveValue("background-image",e),t=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+i+'" alt="" />'),n.length&&n.show()});e.preventDefault()}),o.container.on("click",".background-image-upload-remove-button",function(e){var t,n;e.preventDefault(),o.saveValue("background-image",""),t=o.container.find(".placeholder, .thumbnail"),n=o.container.find(".background-image-upload-remove-button"),o.container.find(".background-wrapper > .background-repeat").hide(),o.container.find(".background-wrapper > .background-position").hide(),o.container.find(".background-wrapper > .background-size").hide(),o.container.find(".background-wrapper > .background-attachment").hide(),o.container.find(".more-settings").attr("data-direction","down"),o.container.find(".more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),o.container.find(".more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide()}),o.container.on("click",".more-settings",function(e){o.container.find(".background-wrapper > .background-repeat").toggle(),o.container.find(".background-wrapper > .background-position").toggle(),o.container.find(".background-wrapper > .background-size").toggle(),o.container.find(".background-wrapper > .background-attachment").toggle(),"down"===n(this).attr("data-direction")?(n(this).attr("data-direction","up"),n(this).find(".message").html(astraCustomizerControlBackground.lessSettings),n(this).find(".icon").html("↑")):(n(this).attr("data-direction","down"),n(this).find(".message").html(astraCustomizerControlBackground.moreSettings),n(this).find(".icon").html("↓"))})},saveValue:function(e,t){var n=this,a=jQuery("#customize-control-"+n.id.replace("[","-").replace("]","")+" .background-hidden-value"),i=n.setting._value;i[e]=t,jQuery(a).attr("value",JSON.stringify(i)).trigger("change"),n.setting.set(i)}})}(jQuery),jQuery,wp.customize.controlConstructor["ast-border"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("change keyup paste","input.ast-border-input",function(){jQuery(this).val(),e.updateValue()})},updateValue:function(){"use strict";var a={top:"",right:"",bottom:"",left:""};this.container.find("input.ast-border-desktop").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),this.setting.set(a)}}),jQuery(document).ready(function(){jQuery(".ast-border-connected").on("click",function(){jQuery(this).parent().parent(".ast-border-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".ast-border-input-item-link").removeClass("disconnected")}),jQuery(".ast-border-disconnected").on("click",function(){var e=jQuery(this).data("element-connect");jQuery(this).parent().parent(".ast-border-wrapper").find("input").addClass("connected").attr("data-element-connect",e),jQuery(this).parent(".ast-border-input-item-link").addClass("disconnected")}),jQuery(".ast-border-input-item").on("input",".connected",function(){var e=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".ast-border-wrapper").find('.connected[ data-element-connect="'+e+'" ]').each(function(e,t){jQuery(this).val(n).change()})})}),jQuery,jQuery(window).on("load",function(){jQuery("html").addClass("colorpicker-ready")}),wp.customize.controlConstructor["ast-color"]=wp.customize.Control.extend({ready:function(){"use strict";var a=this;this.container.find(".ast-color-picker-alpha").wpColorPicker({change:function(e,t){e.target;var n=t.color.toString();jQuery("html").hasClass("colorpicker-ready")&&a.setting.set(n)},clear:function(e){jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&a.setting.set("")}})}}),jQuery,wp.customize.controlConstructor["ast-link"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this,n=jQuery(".customize-link-control-data").data("value");this.container.on("change keyup",".ast-link-input",function(e){e.preventDefault(),value=jQuery(this).val(),n.url=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),t.setting.set(n)}),this.container.on("change click",".ast-link-open-in-new-tab",function(){value=jQuery(this).is(":checked"),n.new_tab=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),t.setting.set(n)}),this.container.on("change keyup",".ast-link-relationship",function(e){e.preventDefault(),value=jQuery(this).val(),n.link_rel=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),t.setting.set(n)})}}),wp.customize.controlConstructor["ast-customizer-link"]=wp.customize.Control.extend({ready:function(){"use strict";this.container.on("click",".customizer-link",function(e){e.preventDefault();var t=this.getAttribute("data-customizer-linked");switch(this.getAttribute("data-ast-customizer-link-type")){case"section":wp.customize.section(t).expand();break;case"control":wp.customize.control(t).focus()}})}}),wp.customize.controlConstructor["ast-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("click","input",function(){e.setting.set(jQuery(this).val())})}}),jQuery,wp.customize.controlConstructor["ast-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.astResponsiveInit(),this.container.on("change keyup paste","input.ast-responsive-input, select.ast-responsive-select",function(){jQuery(this).val(),e.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()}),jQuery(".customize-control-ast-responsive .input-wrapper input.desktop, .customize-control .ast-responsive-btns > li.desktop").addClass("active")},updateValue:function(){"use strict";var e=this,a={};e.responsiveContainer=e.container.find(".ast-responsive-wrapper").first(),e.responsiveContainer.find("input.ast-responsive-input").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),e.responsiveContainer.find("select.ast-responsive-select").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),e.setting.set(a)},astResponsiveInit:function(){"use strict";this.container.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive .input-wrapper input, .customize-control .ast-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive .input-wrapper input."+e+", .customize-control .ast-responsive-btns > li."+e).addClass("active")}),jQuery,jQuery(window).on("load",function(){jQuery("html").addClass("responsive-background-color-ready")}),wp.customize.controlConstructor["ast-responsive-color"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl()},initAstBgControl:function(){var r=this;r.setting._value,r.container.find(".ast-responsive-color").wpColorPicker({change:function(e,t){if(jQuery("html").hasClass("responsive-background-color-ready")){var n=r.setting.get(),a=jQuery(this).data("id"),i={desktop:n.desktop,tablet:n.tablet,mobile:n.mobile};"desktop"===a&&(i.desktop=t.color.toString()),"tablet"===a&&(i.tablet=t.color.toString()),"mobile"===a&&(i.mobile=t.color.toString()),r.setting.set(i)}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id"),a=r.setting.get(),i={desktop:a.desktop,tablet:a.tablet,mobile:a.mobile};t&&("desktop"===n&&(i.desktop=""),"tablet"===n&&(i.tablet=""),"mobile"===n&&(i.mobile=""),r.setting.set(i))}}),this.container.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")}),jQuery(".customize-control-ast-responsive-color .customize-control-content .ast-responsive-color.desktop").parents(".wp-picker-container").addClass("active")}}),jQuery(".wp-full-overlay-footer .devices button").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-color .customize-control-content .wp-picker-container").removeClass("active"),jQuery(".customize-control-ast-responsive-color .customize-control-content .ast-responsive-color."+e).parents(".wp-picker-container").addClass("active")}),jQuery(window).on("load",function(){jQuery("html").addClass("responsive-background-img-ready")}),wp.customize.controlConstructor["ast-responsive-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl(),this.astResponsiveInit()},initAstBgControl:function(){var s=this,e=s.setting._value,t=s.container.find(".ast-responsive-bg-color-control");!_.isUndefined(e.desktop["background-image"])&&""!==e.desktop["background-image"]||(s.container.find(".background-wrapper > .background-container.desktop > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container.desktop > .background-position").hide(),s.container.find(".background-wrapper > .background-container.desktop > .background-size").hide(),s.container.find(".background-wrapper > .background-container.desktop > .background-attachment").hide()),!_.isUndefined(e.tablet["background-image"])&&""!==e.tablet["background-image"]||(s.container.find(".background-wrapper > .background-container.tablet > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container.tablet > .background-position").hide(),s.container.find(".background-wrapper > .background-container.tablet > .background-size").hide(),s.container.find(".background-wrapper > .background-container.tablet > .background-attachment").hide()),!_.isUndefined(e.mobile["background-image"])&&""!==e.mobile["background-image"]||(s.container.find(".background-wrapper > .background-container.mobile > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container.mobile > .background-position").hide(),s.container.find(".background-wrapper > .background-container.mobile > .background-size").hide(),s.container.find(".background-wrapper > .background-container.mobile > .background-attachment").hide()),t.wpColorPicker({change:function(e,t){var n=jQuery(this).data("id");jQuery("html").hasClass("responsive-background-img-ready")&&s.saveValue(n,"background-color",t.color.toString())},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id");t&&s.saveValue(n,"background-color","")}}),s.container.on("change",".background-repeat select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();s.saveValue(t,"background-repeat",n)}),s.container.on("change click",".background-size input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();e.parent(".buttonset").find(".switch-input").removeAttr("checked"),e.attr("checked","checked"),s.saveValue(t,"background-size",n)}),s.container.on("change",".background-position select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();s.saveValue(t,"background-position",n)}),s.container.on("change click",".background-attachment input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();e.parent(".buttonset").find(".switch-input").removeAttr("checked"),e.attr("checked","checked"),s.saveValue(t,"background-attachment",n)}),s.container.on("click",".background-image-upload-button",function(e){var r=jQuery(this).data("id"),o=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=o.state().get("selection").first(),i=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(i=a.toJSON().sizes.thumbnail.url):i=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&s.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),s.saveValue(r,"background-image",e),t=s.container.find(".background-container."+r+" .placeholder, .background-container."+r+" .thumbnail"),n=s.container.find(".background-container."+r+" .background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+i+'" alt="" />'),n.length&&n.show()});e.preventDefault()}),s.container.on("click",".background-image-upload-remove-button",function(e){var t,n,a=jQuery(this).data("id");e.preventDefault(),s.saveValue(a,"background-image",""),t=s.container.find(".background-container."+a+" .placeholder, .background-container."+a+" .thumbnail"),n=s.container.find(".background-container."+a+" .background-image-upload-remove-button"),s.container.find(".background-wrapper > .background-container."+a+" > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container."+a+" > .background-position").hide(),s.container.find(".background-wrapper > .background-container."+a+" > .background-size").hide(),s.container.find(".background-wrapper > .background-container."+a+" > .background-attachment").hide(),s.container.find(".background-container."+a+" .more-settings").attr("data-direction","down"),s.container.find(".background-container."+a+" .more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),s.container.find(".background-container."+a+" .more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide()}),s.container.on("click",".more-settings",function(e){var t=jQuery(this).data("id");s.container.find(".background-wrapper > .background-container."+t+" > .background-repeat").toggle(),s.container.find(".background-wrapper > .background-container."+t+" > .background-position").toggle(),s.container.find(".background-wrapper > .background-container."+t+" > .background-size").toggle(),s.container.find(".background-wrapper > .background-container."+t+" > .background-attachment").toggle(),"down"===jQuery(this).attr("data-direction")?(jQuery(this).attr("data-direction","up"),jQuery(this).find(".message").html(astraCustomizerControlBackground.lessSettings),jQuery(this).find(".icon").html("↑")):(jQuery(this).attr("data-direction","down"),jQuery(this).find(".message").html(astraCustomizerControlBackground.moreSettings),jQuery(this).find(".icon").html("↓"))})},astResponsiveInit:function(){"use strict";this.container.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")})},saveValue:function(e,t,n){var a=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .responsive-background-hidden-value"),i=this.setting._value;i[e][t]=n,jQuery(a).attr("value",JSON.stringify(i)).trigger("change"),this.setting.set(i)}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-background .background-container, .customize-control .ast-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-background .background-container."+e+", .customize-control .ast-responsive-btns > li."+e).addClass("active")}),jQuery,wp.customize.controlConstructor["ast-responsive-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.astResponsiveInit(),this.container.on("input change","input[type=range]",function(){var e=jQuery(this).val(),t=jQuery(this).closest(".input-field-wrapper").find(".ast-responsive-range-value-input");t.val(e),t.trigger("change")}),this.container.on("click",".ast-responsive-slider-reset",function(){var e=jQuery(this).parent().find(".input-field-wrapper.active"),t=e.find("input[type=range]"),n=e.find(".ast-responsive-range-value-input"),a=t.data("reset_value");t.val(a),n.val(a),n.trigger("change")}),this.container.on("input change","input[type=number]",function(){var e=jQuery(this).val();jQuery(this).closest(".input-field-wrapper").find("input[type=range]").val(e),t.updateValue()})},updateValue:function(){"use strict";var a={};this.responsiveContainer=this.container.find(".wrapper").first(),this.responsiveContainer.find(".ast-responsive-range-value-input").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),this.setting.set(a)},astResponsiveInit:function(){this.container.on("click",".ast-responsive-slider-btns button",function(e){e.preventDefault();var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-slider .input-field-wrapper, .customize-control .ast-responsive-slider-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-slider .input-field-wrapper."+e+", .customize-control .ast-responsive-slider-btns > li."+e).addClass("active")}),jQuery,wp.customize.controlConstructor["ast-responsive-spacing"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.astResponsiveInit(),this.container.on("change keyup paste","input.ast-spacing-input",function(){jQuery(this).val(),e.updateValue()})},updateValue:function(){"use strict";var e=this,a={desktop:{},tablet:{},mobile:{},"desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};e.container.find("input.ast-spacing-desktop").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a.desktop[t]=n}),e.container.find("input.ast-spacing-tablet").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a.tablet[t]=n}),e.container.find("input.ast-spacing-mobile").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a.mobile[t]=n}),e.container.find(".ast-spacing-unit-wrapper .ast-spacing-unit-input").each(function(){var e=jQuery(this),t=e.attr("data-device"),n=e.val();a[t+"-unit"]=n}),e.setting.set(a)},astResponsiveInit:function(){"use strict";var a=this;a.container.find(".ast-spacing-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")}),a.container.on("click",".ast-spacing-responsive-units .single-unit",function(){var e=jQuery(this);if(e.hasClass("active"))return!1;var t=e.attr("data-unit"),n=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");e.siblings().removeClass("active"),e.addClass("active"),a.container.find(".ast-spacing-unit-wrapper .ast-spacing-"+n+"-unit").val(t),a.updateValue()})}}),jQuery(document).ready(function(){jQuery(".ast-spacing-connected").on("click",function(){jQuery(this).parent().parent(".ast-spacing-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".ast-spacing-input-item-link").removeClass("disconnected")}),jQuery(".ast-spacing-disconnected").on("click",function(){var e=jQuery(this).data("element-connect");jQuery(this).parent().parent(".ast-spacing-wrapper").find("input").addClass("connected").attr("data-element-connect",e),jQuery(this).parent(".ast-spacing-input-item-link").addClass("disconnected")}),jQuery(".ast-spacing-input-item").on("input",".connected",function(){var e=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".ast-spacing-wrapper").find('.connected[ data-element-connect="'+e+'" ]').each(function(e,t){jQuery(this).val(n).change()})})}),jQuery(".wp-full-overlay-footer .devices button ").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-spacing .input-wrapper .ast-spacing-wrapper, .customize-control .ast-spacing-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-spacing .input-wrapper .ast-spacing-wrapper."+e+", .customize-control .ast-spacing-responsive-btns > li."+e).addClass("active")}),function(l){jQuery(document).ready(function(){var r=0,o=jQuery(".wp-full-overlay-sidebar-content"),s=navigator.userAgent.toLowerCase();if(-1<s.indexOf("firefox"))c=16;else var c=6;jQuery("#customize-controls .wp-full-overlay-sidebar-content .control-section").on("scroll",function(e){var t=jQuery(this);if(t.hasClass("open")){var n=t.find(".customize-section-title"),a=t.scrollTop();if(r<a)n.removeClass("maybe-sticky").removeClass("is-in-view").removeClass("is-sticky"),t.css("padding-top","");else{var i=t.outerWidth();n.addClass("maybe-sticky").addClass("is-in-view").addClass("is-sticky").width(i-c).css("top",o.css("top")),-1<s.indexOf("firefox")||t.css("padding-top",n.height()),0===a&&(n.removeClass("maybe-sticky").removeClass("is-in-view").removeClass("is-sticky"),t.css("padding-top",""))}r=a}})}),wp.customize.controlConstructor["ast-settings-group"]=wp.customize.Control.extend({ready:function(){"use strict";this.setting._value;this.registerToggleEvents(),this.container.on("ast_settings_changed",this.onOptionChange)},registerToggleEvents:function(){var c=this;l(".wp-full-overlay-sidebar-content, .wp-picker-container").click(function(e){l(e.target).closest(".ast-field-settings-modal").length||l(".ast-adv-toggle-icon.open").trigger("click")}),c.container.on("click",".ast-toggle-desc-wrap .ast-adv-toggle-icon",function(e){e.preventDefault(),e.stopPropagation();var t=jQuery(this),n=t.closest(".customize-control-ast-settings-group"),a=n.find(".ast-field-settings-modal").data("loaded"),i=n.parents(".control-section");if(t.hasClass("open"))n.find(".ast-field-settings-modal").hide();else{var r=i.find(".ast-adv-toggle-icon.open");if(0<r.length&&r.trigger("click"),a)n.find(".ast-field-settings-modal").show();else{var o=c.params.ast_fields,s=l(astra.customizer.group_modal_tmpl);n.find(".ast-field-settings-wrap").append(s),n.find(".ast-fields-wrap").attr("data-control",c.params.name),c.ast_render_field(n,o,c),n.find(".ast-field-settings-modal").show(),device=jQuery("#customize-footer-actions .active").attr("data-device"),"mobile"==device?(jQuery(".ast-responsive-btns .mobile, .ast-responsive-slider-btns .mobile").addClass("active"),jQuery(".ast-responsive-btns .preview-mobile, .ast-responsive-slider-btns .preview-mobile").addClass("active")):"tablet"==device?(jQuery(".ast-responsive-btns .tablet, .ast-responsive-slider-btns .tablet").addClass("active"),jQuery(".ast-responsive-btns .preview-tablet, .ast-responsive-slider-btns .preview-tablet").addClass("active")):(jQuery(".ast-responsive-btns .desktop, .ast-responsive-slider-btns .desktop").addClass("active"),jQuery(".ast-responsive-btns .preview-desktop, .ast-responsive-slider-btns .preview-desktop").addClass("active"))}}t.toggleClass("open")}),c.container.on("click",".ast-toggle-desc-wrap > .customizer-text",function(e){e.preventDefault(),e.stopPropagation(),jQuery(this).find(".ast-adv-toggle-icon").trigger("click")})},ast_render_field:function(e,t,a){var o=this,i=e.find(".ast-fields-wrap"),r="",s=[],c=o.isJsonString(a.params.value)?JSON.parse(a.params.value):{};if(void 0!==t.tabs){var n=(n=a.params.name.replace("[","-")).replace("]","");r+='<div id="'+n+'-tabs" class="ast-group-tabs">',r+='<ul class="ast-group-list">';var u=0;_.each(t.tabs,function(e,t){var n="";0==u&&(n="active"),r+='<li class="'+n+'"><a href="#tab-'+t+'"><span>'+t+"</span></a></li>",u++}),r+="</ul>",r+='<div class="ast-tab-content" >',_.each(t.tabs,function(e,t){r+='<div id="tab-'+t+'" class="tab">';var n=o.generateFieldHtml(e,c);r+=n.html,_.each(n.controls,function(e,t){s.push({key:e.key,value:e.value,name:e.name})}),r+="</div>"}),r+="</div></div>",i.html(r),l("#"+n+"-tabs").tabs()}else{var d=o.generateFieldHtml(t,c);r+=d.html,_.each(d.controls,function(e,t){s.push({key:e.key,value:e.value,name:e.name})}),i.html(r)}_.each(s,function(e,t){switch(e.key){case"ast-responsive-color":o.initResponsiveColor(i,a,e.name);break;case"ast-color":o.initColor(i,a,e.name);break;case"ast-font":var n=astra.customizer.settings.google_fonts;o.container.find(".ast-font-family").html(n),o.container.find(".ast-font-family").each(function(){var e=l(this).data("value");l(this).val(e);var t=l(this).data("name");l("select[data-name='"+t+"'] option[value='inherit']").text(l(this).data("inherit"));var n=jQuery(".ast-font-weight[data-connected-control='"+t+"']"),a=AstTypography._getWeightObject(AstTypography._cleanGoogleFonts(e));o.generateDropdownHtml(a,n),n.val(n.data("value"))}),o.container.find(".ast-font-family").selectWoo(),o.container.find(".ast-font-family").on("select2:select",function(){var e=l(this).val(),t=AstTypography._getWeightObject(AstTypography._cleanGoogleFonts(e)),n=l(this).data("name"),a=jQuery(".ast-font-weight[data-connected-control='"+n+"']");o.generateDropdownHtml(t,a);var i=l(this).parents(".customize-control").attr("id");i=i.replace("customize-control-",""),o.container.trigger("ast_settings_changed",[o,jQuery(this),e,i]);var r=a.parents(".customize-control").attr("id");r=r.replace("customize-control-",""),o.container.trigger("ast_settings_changed",[o,a,a.val(),r])}),o.container.find(".ast-font-weight").on("change",function(){var e=l(this).val();name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),o.container.trigger("ast_settings_changed",[o,jQuery(this),e,name])});break;case"ast-responsive":o.initResponsiveTrigger(i,a),o.container.on("change keyup paste","input.ast-responsive-input, select.ast-responsive-select",function(){name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),o.updateResonsiveValue(jQuery(this),name)});break;case"ast-select":o.container.on("change",".ast-select-input",function(){var e=jQuery(this).val();name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),o.container.trigger("ast_settings_changed",[o,jQuery(this),e,name])});break;case"ast-slider":o.container.on("input change","input[type=range]",function(){var e=jQuery(this).attr("value"),t=jQuery(this).closest(".wrapper").find(".astra_range_value .value");t.val(e),name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),o.container.trigger("ast_settings_changed",[o,t,e,name])}),o.container.on("click",".ast-slider-reset",function(){var e=jQuery(this).closest(".wrapper"),t=e.find("input[type=range]"),n=e.find(".astra_range_value .value"),a=t.data("reset_value");t.val(a),n.val(a),name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),o.container.trigger("ast_settings_changed",[o,n,a,name])}),o.container.find(".customize-control-ast-slider").on("input change","input[type=number]",function(){var e=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(e),name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),o.container.trigger("ast_settings_changed",[o,jQuery(this),e,name])});break;case"ast-responsive-background":o.initAstResonsiveBgControl(a,e,e.name);break;case"ast-background":o.initAstBgControl(a,e,e.name);break;case"ast-border":o.initAstBorderControl(a,e,e.name)}}),e.find(".ast-field-settings-modal").data("loaded",!0)},initAstBorderControl:function(e,t,n){var a=this;a.setting._value,t.name;this.container.on("change keyup paste","input.ast-border-input",function(){a.saveBorderValue("border",jQuery(this).val(),jQuery(this),n)}),jQuery(".ast-border-connected").on("click",function(){jQuery(this).parent().parent(".ast-border-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".ast-border-input-item-link").removeClass("disconnected")}),jQuery(".ast-border-disconnected").on("click",function(){var e=jQuery(this).data("element-connect");jQuery(this).parent().parent(".ast-border-wrapper").find("input").addClass("connected").attr("data-element-connect",e),jQuery(this).parent(".ast-border-input-item-link").addClass("disconnected")}),jQuery(".ast-border-input-item").on("input",".connected",function(){var e=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".ast-border-wrapper").find('.connected[ data-element-connect="'+e+'" ]').each(function(e,t){jQuery(this).val(n).change()})})},generateFieldHtml:function(e,t){var d="",l=[];_.each(e,function(e,t){new_value=wp.customize.control("astra-settings["+e.name+"]")?wp.customize.control("astra-settings["+e.name+"]").params.value:"";var n=e.control,a="customize-control-"+n+"-content",i=wp.template(a),r=new_value||e.default;e.value=r;var o="",s="";if(e.label=e.title,_.each(e.data_attrs,function(e,t){o+=" data-"+t+" ='"+e+"'"}),_.each(e.input_attrs,function(e,t){s+=t+" ='"+e+"'"}),e.dataAttrs=o,e.inputAttrs=s,l.push({key:n,value:r,name:e.name}),"ast-responsive"==n){var c=void 0===e.responsive||e.responsive;e.responsive=c}var u=e.name.replace("[","-");u=u.replace("]",""),d+="<li id='customize-control-"+u+"' class='customize-control customize-control-"+e.control+"' >",d+=i(e),d+="</li>"});var n=new Object;return n.controls=l,n.html=d,n},generateDropdownHtml:function(e,t){var n=t.data("inherit"),a="",i=0,r=(e=l.merge(["inherit"],e),t.val()||"400");for(astraTypo.inherit=n;i<e.length;i++)0===i&&-1===l.inArray(r,e)?(r=e[0],selected=' selected="selected"'):selected=e[i]==r?' selected="selected"':"",e[i].includes("italic")||(a+='<option value="'+e[i]+'"'+selected+">"+astraTypo[e[i]]+"</option>");t.html(a)},initResponsiveTrigger:function(e,t){e.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")})},initColor:function(e,t,a){var i=this;e.find(".customize-control-ast-color .ast-color-picker-alpha").wpColorPicker({change:function(e,t){if(void 0!==e.originalEvent||void 0!==t.color._alpha){var n=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];jQuery(n).val(t.color.toString()),a=(a=jQuery(n).parents(".customize-control").attr("id")).replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,jQuery(n),t.color.toString(),a])}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];jQuery(t).val(""),a=(a=jQuery(t).parents(".customize-control").attr("id")).replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,jQuery(t),"",a]),wp.customize.previewer.refresh()}})},initResponsiveColor:function(e,t,s){var c=this;e.find(".ast-responsive-color").wpColorPicker({change:function(e,t){if((void 0!==e.originalEvent||void 0!==t.color._alpha)&&jQuery("html").hasClass("responsive-background-color-ready")){var n=jQuery(this).data("name"),a={desktop:jQuery(".desktop.ast-responsive-color[data-name='"+n+"']").val(),tablet:jQuery(".tablet.ast-responsive-color[data-name='"+n+"']").val(),mobile:jQuery(".mobile.ast-responsive-color[data-name='"+n+"']").val()},i=e.target,r=jQuery(this).data("id"),o={desktop:a.desktop,tablet:a.tablet,mobile:a.mobile};"desktop"===r&&(o.desktop=t.color.toString()),"tablet"===r&&(o.tablet=t.color.toString()),"mobile"===r&&(o.mobile=t.color.toString()),jQuery(i).val(t.color.toString()),s=(s=jQuery(i).parents(".customize-control").attr("id")).replace("customize-control-",""),c.container.trigger("ast_settings_changed",[c,jQuery(this),o,s])}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id"),a=jQuery(t).attr("data-name"),i={desktop:jQuery(".desktop.ast-responsive-color[data-name='"+a+"']").val(),tablet:jQuery(".tablet.ast-responsive-color[data-name='"+a+"']").val(),mobile:jQuery(".mobile.ast-responsive-color[data-name='"+a+"']").val()},r={desktop:i.desktop,tablet:i.tablet,mobile:i.mobile};wp.customize.previewer.refresh(),t&&("desktop"===n&&(r.desktop=""),"tablet"===n&&(r.tablet=""),"mobile"===n&&(r.mobile=""),jQuery(t).val(""),c.container.trigger("ast_settings_changed",[c,jQuery(t),r,s])),s=(s=jQuery(t).parents(".customize-control").attr("id")).replace("customize-control-","")}}),e.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")}),e.find(".ast-responsive-color.desktop").parents(".wp-picker-container").addClass("active")},onOptionChange:function(e,t,n,a,i){l(".hidden-field-astra-settings-"+i).val(a),sub_control=wp.customize.control("astra-settings["+i+"]"),sub_control.setting.set(a)},updateResonsiveValue:function(e,t){"use strict";var n=this,a={};n.responsiveContainer=e.closest(".ast-responsive-wrapper"),n.responsiveContainer.find("input.ast-responsive-input").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),n.responsiveContainer.find("select.ast-responsive-select").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),n.container.trigger("ast_settings_changed",[n,e,a,t])},isJsonString:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},initAstResonsiveBgControl:function(c,e,u){var t=e.value,n=c.container.find(".ast-responsive-bg-color-control"),a=e.name,d=c.container.find("#customize-control-"+a);!_.isUndefined(t.desktop["background-image"])&&""!==t.desktop["background-image"]||(d.find(".background-wrapper > .background-container.desktop > .background-repeat").hide(),d.find(".background-wrapper > .background-container.desktop > .background-position").hide(),d.find(".background-wrapper > .background-container.desktop > .background-size").hide(),d.find(".background-wrapper > .background-container.desktop > .background-attachment").hide()),!_.isUndefined(t.tablet["background-image"])&&""!==t.tablet["background-image"]||(d.find(".background-wrapper > .background-container.tablet > .background-repeat").hide(),d.find(".background-wrapper > .background-container.tablet > .background-position").hide(),d.find(".background-wrapper > .background-container.tablet > .background-size").hide(),d.find(".background-wrapper > .background-container.tablet > .background-attachment").hide()),!_.isUndefined(t.mobile["background-image"])&&""!==t.mobile["background-image"]||(d.find(".background-wrapper > .background-container.mobile > .background-repeat").hide(),d.find(".background-wrapper > .background-container.mobile > .background-position").hide(),d.find(".background-wrapper > .background-container.mobile > .background-size").hide(),d.find(".background-wrapper > .background-container.mobile > .background-attachment").hide()),n.wpColorPicker({change:function(e,t){if(void 0!==e.originalEvent||void 0!==t.color._alpha){var n=jQuery(this).data("id");c.saveValue(n,"background-color",t.color.toString(),jQuery(this),u)}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id");t&&c.saveValue(n,"background-color","",jQuery(t),u),wp.customize.previewer.refresh()}}),d.on("change",".background-repeat select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();c.saveValue(t,"background-repeat",n,jQuery(this),u)}),d.on("change click",".background-size input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),c.saveValue(t,"background-size",n,e,u)}),d.on("change",".background-position select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();c.saveValue(t,"background-position",n,e,u)}),d.on("change click",".background-attachment input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),c.saveValue(t,"background-attachment",n,e,u)}),d.on("click",".background-image-upload-button, .thumbnail-image img",function(e){var r=jQuery(this),o=r.data("id");u=r.data("name");var s=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=s.state().get("selection").first(),i=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(i=a.toJSON().sizes.thumbnail.url):i=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&d.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),c.saveValue(o,"background-image",e,r,u),t=d.find(".background-container."+o+" .placeholder, .background-container."+o+" .thumbnail"),n=d.find(".background-container."+o+" .background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+i+'" alt="" data-id="'+o+'" data-name="'+u+'"/>'),n.length&&n.show()});e.preventDefault()}),d.on("click",".background-image-upload-remove-button",function(e){var t,n,a=jQuery(this).data("id");c.saveValue(a,"background-image","",jQuery(this),u),t=d.find(".background-container."+a+" .placeholder, .background-container."+a+" .thumbnail"),n=d.find(".background-container."+a+" .background-image-upload-remove-button"),d.find(".background-wrapper > .background-container."+a+" > .background-repeat").hide(),d.find(".background-wrapper > .background-container."+a+" > .background-position").hide(),d.find(".background-wrapper > .background-container."+a+" > .background-size").hide(),d.find(".background-wrapper > .background-container."+a+" > .background-attachment").hide(),d.find(".background-container."+a+" .more-settings").attr("data-direction","down"),d.find(".background-container."+a+" .more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),d.find(".background-container."+a+" .more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide(),wp.customize.previewer.refresh(),e.preventDefault()}),d.on("click",".more-settings",function(e){var t=jQuery(this).data("id");d.find(".background-wrapper > .background-container."+t+" > .background-repeat").toggle(),d.find(".background-wrapper > .background-container."+t+" > .background-position").toggle(),d.find(".background-wrapper > .background-container."+t+" > .background-size").toggle(),d.find(".background-wrapper > .background-container."+t+" > .background-attachment").toggle(),"down"===l(this).attr("data-direction")?(l(this).attr("data-direction","up"),l(this).find(".message").html(astraCustomizerControlBackground.lessSettings),l(this).find(".icon").html("↑")):(l(this).attr("data-direction","down"),l(this).find(".message").html(astraCustomizerControlBackground.moreSettings),l(this).find(".icon").html("↓"))}),d.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-background .background-container, .customize-control .ast-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-background .background-container."+e+", .customize-control .ast-responsive-btns > li."+e).addClass("active")})},initAstBgControl:function(s,e,c){var t=s.setting._value,n=e.name,a=s.container.find(".ast-color-control"),u=s.container.find("#customize-control-"+n);!_.isUndefined(t["background-image"])&&""!==t["background-image"]||(u.find(".background-wrapper > .background-repeat").hide(),u.find(".background-wrapper > .background-position").hide(),u.find(".background-wrapper > .background-size").hide(),u.find(".background-wrapper > .background-attachment").hide()),a.wpColorPicker({change:function(){if(jQuery("html").hasClass("background-colorpicker-ready")){var e=jQuery(this);setTimeout(function(){s.saveBgValue("background-color",a.val(),e,c)},100)}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];t&&s.saveBgValue("background-color","",jQuery(t),c),wp.customize.previewer.refresh()}}),u.on("change",".background-repeat select",function(){s.saveBgValue("background-repeat",jQuery(this).val(),jQuery(this),c)}),u.on("change click",".background-size input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),s.saveBgValue("background-size",jQuery(this).val(),jQuery(this),c)}),u.on("change",".background-position select",function(){s.saveBgValue("background-position",jQuery(this).val(),jQuery(this),c)}),u.on("change click",".background-attachment input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),s.saveBgValue("background-attachment",jQuery(this).val(),jQuery(this),c)}),u.on("click",".background-image-upload-button, .thumbnail-image img",function(e){var r=jQuery(this),o=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=o.state().get("selection").first(),i=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(i=a.toJSON().sizes.thumbnail.url):i=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&u.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),s.saveBgValue("background-image",e,r,c),t=u.find(".placeholder, .thumbnail"),n=u.find(".background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+i+'" alt="" />'),n.length&&n.show()});e.preventDefault()}),u.on("click",".background-image-upload-remove-button",function(e){var t,n;e.preventDefault(),s.saveBgValue("background-image","",jQuery(this)),t=u.find(".placeholder, .thumbnail"),n=u.find(".background-image-upload-remove-button"),u.find(".background-wrapper > .background-repeat").hide(),u.find(".background-wrapper > .background-position").hide(),u.find(".background-wrapper > .background-size").hide(),u.find(".background-wrapper > .background-attachment").hide(),u.find(".more-settings").attr("data-direction","down"),u.find(".more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),u.find(".more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide()}),u.on("click",".more-settings",function(e){u.find(".background-wrapper > .background-repeat").toggle(),u.find(".background-wrapper > .background-position").toggle(),u.find(".background-wrapper > .background-size").toggle(),u.find(".background-wrapper > .background-attachment").toggle(),"down"===l(this).attr("data-direction")?(l(this).attr("data-direction","up"),l(this).find(".message").html(astraCustomizerControlBackground.lessSettings),l(this).find(".icon").html("↑")):(l(this).attr("data-direction","down"),l(this).find(".message").html(astraCustomizerControlBackground.moreSettings),l(this).find(".icon").html("↓"))})},saveValue:function(e,t,n,a,i){var r=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .responsive-background-hidden-value"),o=JSON.parse(r.val());o[e][t]=n,jQuery(r).attr("value",JSON.stringify(o)).trigger("change"),i=(i=jQuery(a).parents(".customize-control").attr("id")).replace("customize-control-",""),this.container.trigger("ast_settings_changed",[this,a,o,i])},saveBgValue:function(e,t,n,a){var i=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .background-hidden-value"),r=JSON.parse(i.val());r[e]=t,jQuery(i).attr("value",JSON.stringify(r)).trigger("change"),a=(a=jQuery(n).parents(".customize-control").attr("id")).replace("customize-control-",""),this.container.trigger("ast_settings_changed",[this,n,r,a])},saveBorderValue:function(e,t,n,a){var i={top:"",right:"",bottom:"",left:""};this.container.find("input.ast-border-desktop").each(function(){var e=jQuery(this),t=e.data("id");item_value=e.val(),i[t]=item_value,e.attr("value",item_value)}),this.container.trigger("ast_settings_changed",[this,n,i,a])}})}(jQuery),jQuery,wp.customize.controlConstructor["ast-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;jQuery("input[type=range]").on("input change",function(){var e=jQuery(this).attr("value"),t=jQuery(this).closest(".wrapper").find(".astra_range_value .value");t.val(e),t.change()}),jQuery(".ast-slider-reset").click(function(){var e=jQuery(this).closest(".wrapper"),t=e.find("input[type=range]"),n=e.find(".astra_range_value .value"),a=t.data("reset_value");t.val(a),n.val(a),n.change()}),this.container.on("input change","input[type=number]",function(){var e=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(e),t.setting.set(e)})}}),jQuery,wp.customize.controlConstructor["ast-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.sortableContainer=e.container.find("ul.sortable").first(),e.sortableContainer.sortable({stop:function(){e.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){e.updateValue()})},updateValue:function(){"use strict";var e=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||e.push(jQuery(this).data("value"))}),this.setting.set(e)}}),function(p){var v=wp.customize;AstTypography={init:function(){AstTypography._initFonts()},_initFonts:function(){p(".customize-control-ast-font-family select").each(function(e){if(void 0!==astra.customizer){var t=astra.customizer.settings.google_fonts,n=p(this).data("name");p(this).html(t),p("select[data-name='"+n+"'] option[value='inherit']").text(p(this).data("inherit"));var a=p(this).data("value");p(this).val(a)}}),p(".customize-control-ast-font-family select").each(AstTypography._initFont),p(".customize-control-ast-font-family select, .customize-control-ast-font-variant select").selectWoo(),p(".customize-control-ast-font-variant select").on("select2:unselecting",function(e){var t=p(this).data("customize-setting-link");(e.params.args.data.id||"")&&(p(this).find('option[value="'+e.params.args.data.id+'"]').removeAttr("selected"),null===p(this).val()&&v(t).set(""))})},_initFont:function(){var e=p(this),t=e.data("customize-setting-link"),n=e.data("connected-control"),a=e.data("connected-variant");void 0!==n&&(v(t).bind(AstTypography._fontSelectChange),AstTypography._setFontWeightOptions.apply(v(t),[!0])),void 0!==a&&(v(t).bind(AstTypography._fontSelectChange),AstTypography._setFontVarianttOptions.apply(v(t),[!0]))},_fontSelectChange:function(){var e=v.control(this.id).container.find("select").data("connected-variant");AstTypography._setFontWeightOptions.apply(this,[!1]),void 0!==e&&AstTypography._setFontVarianttOptions.apply(this,[!1])},_cleanGoogleFonts:function(e){if(!e.includes(","))return e;var t=e.split(","),n=new RegExp("'","gi"),a=t[0].replace(n,"");return void 0!==AstFontFamilies.google[a]&&(e=a),e},_getWeightObject:function(e){var t=["400","600"];return"inherit"==e?t=["100","200","300","400","500","600","700","800","900"]:void 0!==AstFontFamilies.system[e]?t=AstFontFamilies.system[e].weights:void 0!==AstFontFamilies.google[e]?(t=AstFontFamilies.google[e][0],t=Object.keys(t).map(function(e){return t[e]})):void 0!==AstFontFamilies.custom[e]&&(t=AstFontFamilies.custom[e].weights),t},_setFontWeightOptions:function(e){var t=0,n=v.control(this.id).container.find("select"),a=this(),i="",r=n.data("connected-control"),o=(n.data("inherit"),v.control(r).container.find("select")),s=o.data("inherit"),c=e?o.val():"400",u=["400","600"],d="",l=astraTypo;"inherit"==a&&(c=e?o.val():"inherit");a=AstTypography._cleanGoogleFonts(a),u=AstTypography._getWeightObject(a);for(u=p.merge(["inherit"],u),l.inherit=s;t<u.length;t++)i=0===t&&-1===p.inArray(c,u)?(c=u[0],' selected="selected"'):u[t]==c?' selected="selected"':"",u[t].includes("italic")||(d+='<option value="'+u[t]+'"'+i+">"+l[u[t]]+"</option>");o.html(d),e||(v(r).set(""),v(r).set(c))},_setFontVarianttOptions:function(e){var t=0,n=v.control(this.id).container.find("select"),a=this(),i="",r=n.data("connected-variant"),o=(n.data("inherit"),v.control(r).container.find("select")),s=v.control(r).container.find(".ast-font-variant-hidden-value"),c="",u="",d=o.data("inherit"),l=astraTypo,p=s.val().split(",");"Google"==(n.find('option[value="'+n.val()+'"]').closest("optgroup").attr("label")||"")?o.parent().removeClass("ast-hide"):o.parent().addClass("ast-hide");a=AstTypography._cleanGoogleFonts(a);var g=AstTypography._getWeightObject(a);l.inherit=d;for(t=0;t<g.length;t++){for(var h=0;h<p.length;h++)i=g[t]===p[h]?(c=g[t],' selected="selected"'):g[t]==c?' selected="selected"':"";u+='<option value="'+g[t]+'"'+i+">"+l[g[t]]+"</option>"}o.html(u),e||v(r).set("")}},p(function(){AstTypography.init()})}(jQuery);